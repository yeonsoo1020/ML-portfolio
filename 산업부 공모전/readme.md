# 제주 지역 전력사용량 예측 모델

## 📌 프로젝트 개요
본 프로젝트는 **제11회 산업통상자원부 공공데이터 활용 BI 공모전 - 빅데이터 분석 부문**에 참여하여, 5개의 지정 과제 중 **분석과제 1 - 고객 전력 사용량 예측 알고리즘 개발**을 수행하였습니다. 제주 지역은 높은 신재생에너지 보급률과 육지와 다른 전력 소비 패턴을 보이며, 기후 변화에 따른 전력 수급 변동성이 크기 때문에 **기상 요소, 시간 변수, 경제적 요소 등을 활용하여 전력 사용량을 예측**하는 머신러닝 모델을 개발하였습니다.


## 📂 활용 데이터
본 프로젝트에서는 공모전에서 제공되는 제주지역의 주택용 전력 사용 데이터 및 공공 데이터 포털, 외부 데이터를 활용하였습니다.

### 제공 데이터
- **전력 사용량 데이터**  
  - 2021~2022년 제주 지역 1,500 가구의 연/월/일/시간별 전력 사용량
  - 고객별 개별 전력 사용량 포함

### 추가 활용 데이터
| 출처 | 데이터 | 설명 |
|------|--------|------|
| 한국전력거래소 | 하루전 발전계획용 수요예측 | 2021~2022년 제주 지역의 전력 발전계획 기반 수요예측 데이터 |
| 기상자료개방포털 | 기온, 풍속, 습도 | 제주 지역 (고산, 서귀포, 성산, 제주) 4개 지역의 기상 정보 데이터 |
| 중앙재난안전대책본부 | 사회적 거리두기 단계 | 2021~2022년 시행된 거리두기 단계별 규제 강도 및 시행 기간 정보 |

## 📊 변수 설명

본 프로젝트에서는 다양한 변수를 활용하여 전력 사용량 예측 모델을 개발하였습니다. 주요 변수는 다음과 같습니다.

#### 1️⃣ **기상 관련 파생 변수**
- 기온, 풍속, 습도에 더불어 불쾌지수, 체감온도를 계산하여 활용
- 기상 데이터는 전력 사용량과 밀접한 연관이 있어 주요 예측 변수로 활용

#### 2️⃣ **코로나19 관련 변수**
- 사회적 거리두기 단계를 반영하여 코로나19로 인한 전력 사용량 변화 반영

#### 3️⃣ **경제 상황을 반영한 변수**
- 전력거래소에서 제공하는 하루 전 발전계획용 수요예측량데이터를 활용
- 해당 데이터는 고용 상황, 소비자 동향 등의 경제 지표를 간접적으로 반영하여 계산되므로 경제적 상황을 반영하고자 함

#### 4️⃣ **기본 변수**
- 시간 및 날짜 관련 변수 세분화
- 고객 관련 변수: 고객별 군집화(클러스터링), 고객별 평균 사용량

## 🔍 EDA 및 전처리

### EDA
- 전력 사용량의 월별, 요일별, 시간대별 패턴 분석
- 기상 요소와 전력 사용량 상관관계 확인
- **군집화 (Clustering) 적용**: 전력 사용 패턴을 고려한 K-means 클러스터링(Elbow Method 기준 4개 군집)으로 군집별 특성 파악
   
### 전처리
- **결측치 처리**: 전력 사용량 결측값(0.02%) 제거
- **이상치 제거**: 전력 사용량 상위 10% 이상 제거
- **One-hot encoding**: 사회적 거리두기 단계 변수 변환
- **표준화**: 발전계획 기반 전력 수요 예측값 표준화
- **파생변수 생성**
  
 ## 📈 모델링
- LightGBM
- XGBoost
- CatBoost

| 모델 | RMSE | RRMSE |
|------|------|------|
| LightGBM | 0.21 | 38.4 |
| XGBoost | 0.205 | 37.48 |
| **CatBoost (최종)** | **0.198** | **36.2** |

최적의 성능을 보인 CatBoost를 최종 모델로 선정하였으며, GridSearch를 통해 하이퍼파라미터 튜닝 진행

### 🔄 추가 모델링 시도

#### 고객별 맞춤형 모델 구축 시도
- 모든 데이터를 학습하는 방식 외에도 고객번호별 하나의 모델을 구축하는 방식을 추가로 시도함
- 특정 고객의 전력 사용량이 전체 평균과 큰 차이를 보일 경우, 개별 모델이 더 높은 성능을 나타냄
- 하지만 subject-specific한 모델이므로 일반화가 어렵고, 고객 수가 늘어나면 새로운 모델을 계속 구축해야 하는 부담 발생

#### 이상치 제거 및 성능 개선
- Target 값이 right-skewed된 분포를 가지며, 일부 극단값이 모델 성능에 큰 영향을 미칠 가능성이 있음
- Q3를 초과하는 데이터를 추가 제거하여 이상치 제거 후 모델 학습 진행
- CatBoost 단일 모델 적용 시 RRMSE 값이 28까지 감소 → 모델 성능 대폭 상승

####  최종 선택 및 결론
- 하지만 안정성, 일관성, 타당성을 고려할 때 모델의 성능에만 집중해서는 안될 것이라 판단하여 기존 모델링 방식으로 진행
-  모델링 과정에서 최종 데이터셋의 크기는 행의 개수가 약 2000만 개, 열의 개수 역시 27개로 비교적 다양한 변수와 함께 충분한 크기의 데이터셋을 활용하여 분석을 진행 -> 향후 해당 모델을 활용하여, 다양한 상황을 고려한 모델로서 강점이 있을 것이라 판단

## 💡 기대효과 및 사업화 방안

### 기대효과
- 기상 요소, 사회적 상황 등 다각도로 전력 수요를 분석하여 제주 지역의 안정적인 전력 수급 계획에 도움
- 기상 요소를 고려하여 예측된 전력 수요량을 통해 신재생 에너지 발전을 효과적으로 지속하기 위한 발판 마련

### 사업화 방안
- 관광 및 서비스업 분야의 전력 수요 예측을 통한 안정적인 관광사업 유지 
- 환경 친화적인 전기 사용량 조절 앱 개발
  
## ⚠️ 한계 및 개선 방안

### 한계점
- 데이터 안심 구역 내에서만 분석 가능 -> 특정 모델, 패키지 설치 제한으로 다양한 시도 어려움
- 데이터 부족 → 고객별 위치 정보 및 경제적 요인 반영 부족  

### 개선 방안
- 딥러닝 모델을 적용하여 예측 성능 개선  
- 소비자 경제적 요인 반영 및 정밀 기상 데이터 활용

## 🔧분석툴
파이썬썬
